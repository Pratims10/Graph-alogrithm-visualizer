{"ast":null,"code":"var _jsxFileName = \"H:\\\\React\\\\Graph\\\\graph-algorithm-visualizer\\\\src\\\\components\\\\ShortestPath.js\";\nimport React, { Component } from 'react';\nlet v1 = null,\n    v2 = null;\nlet adj = [];\nvar delay = 1000;\nlet weights = [];\nvar r = 14;\nexport class ShortestPath extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      points: [],\n      edges: [],\n      dist: []\n    };\n  }\n\n  randomWeights() {\n    console.log(this.state.edges.length);\n\n    for (let i = 0; i < this.state.edges.length; i++) weights[i] = getRandomInt(1, 50);\n\n    this.forceUpdate();\n  }\n\n  addWeights() {\n    weights.push(getRandomInt(1, 50));\n    this.forceUpdate();\n  }\n\n  getMousePosition(event) {\n    let x = event.clientX; //this.refs.svg.style.marginLeft ;\n\n    let y = event.clientY - this.refs.svg.style.marginTop;\n\n    for (let i = 0; i < this.state.points.length; i++) {\n      let x1 = this.state.points[i].x;\n      let y1 = this.state.points[i].y;\n      let dist = (x - x1) * (x - x1) + (y - y1) * (y - y1);\n\n      if (dist <= 900) {\n        //                this.drawLine(event);\n        return;\n      }\n    }\n\n    this.setState(prev => {\n      dist: prev.dist.push(100000);\n    });\n    this.setState(prev => {\n      points: prev.points.push({\n        x: x,\n        y: y\n      });\n    }, function () {\n      adj.push([]);\n    });\n    this.forceUpdate();\n  }\n\n  drawLine(e, idx) {\n    let u = document.getElementById(`point${idx}`);\n    u.style.fill = 'red';\n    if (v1 === null) v1 = idx;else {\n      v2 = idx;\n      u = document.getElementById(`point${v1}`);\n      u.style.fill = 'orange';\n      u = document.getElementById(`point${v2}`);\n      u.style.fill = 'orange';\n\n      for (let i = 0; i < this.state.edges.length; i++) {\n        if (this.state.edges[i].u === v1 && this.state.edges[i].v === v2) {\n          v1 = null;\n          v2 = null;\n          return;\n        } else if (this.state.edges[i].u === v2 && this.state.edges[i].v === v1) {\n          v1 = null;\n          v2 = null;\n          return;\n        }\n      }\n\n      if (v1 === v2) {\n        v1 = null;\n        v2 = null;\n        return;\n      }\n\n      this.setState(prev => {\n        edges: prev.edges.push({\n          u: v1,\n          v: v2\n        });\n      }, function () {\n        this.addWeights();\n        adj[v1].push({\n          vertex: v2,\n          edgeNo: this.state.edges.length - 1\n        });\n        adj[v2].push({\n          vertex: v1,\n          edgeNo: this.state.edges.length - 1\n        });\n        v1 = null;\n        v2 = null;\n      });\n      this.forceUpdate();\n    }\n  }\n\n  reset() {\n    for (let i = 0; i < this.state.points.length; i++) {\n      document.getElementById(`point${i}`).style.fill = 'orange';\n    }\n\n    for (let i = 0; i < this.state.edges.length; i++) {\n      document.getElementById(`edge${i}`).style.stroke = 'red';\n    }\n  }\n\n  clear() {\n    this.setState({\n      points: [],\n      edges: []\n    }, function () {\n      v1 = null;\n      v2 = null;\n      adj = [];\n    });\n    this.forceUpdate();\n  } //DJIKSTRA'S SHORTEST PATH ALGORITHM\n\n\n  minDist(dist, sptSet) {\n    // Initialize min value \n    let min = INT_MAX,\n        min_index;\n\n    for (let v = 0; v < V; v++) if (sptSet[v] == false && dist[v] <= min) min = dist[v], min_index = v;\n\n    return min_index;\n  }\n\n  dijkstraAnimations(s) {\n    let ar = [];\n\n    for (let i = 0; i < this, state.points.length; i++) {\n      ar.push([]);\n\n      for (let j = 0; j < this.state.points.length; j++) ar[i].push(0);\n    } //forming adj matrix\n\n\n    for (let i = 0; i < this.state.edges.length; i++) {\n      ar[this.state.edges.u][this.state.edges.v] = weights[i];\n      ar[this.state.edges.v][this.state.edges.u] = weights[i];\n    }\n\n    let vis = [];\n\n    for (let i = 0; i < this.state.points.length; i++) vis[i] = false;\n\n    let animations = [];\n    let dist = this.state.dist;\n    dist[s] = 0;\n    animations.push({\n      x: s,\n      y: 0,\n      color: 'setdist'\n    });\n    let u = this.minDist(dist, vis);\n    vis[u] = true;\n    animations.push({\n      x: u,\n      y: -1,\n      color: 'confirmdist'\n    });\n\n    for (let v = 0; v < this.state.points.length; v++) {\n      if (!vis[v] && ar[u][v] && dist[u] + ar[u][v] < dist[v]) {\n        dist[v] = dist[u] + ar[u][v];\n        animations.push({\n          x: v,\n          y: dist[v],\n          color: 'setdist'\n        });\n      }\n    }\n  }\n\n  dijkstra(s) {\n    if (s >= this.state.points.length) return;\n    const animations = this.dijkstraAnimations(s);\n    let len = animations.length;\n\n    for (let i = 0; i < len; i++) {\n      if (animations[i].color === 'setdist') {\n        let q = document.getElementById(`point${animations[i].x}`);\n        q.style.fill = 'blue';\n        this.setState({\n          dist\n        });\n      }\n    }\n  }\n\n  render() {\n    var pts = this.state.points.map((x, idx) => {\n      return React.createElement(\"circle\", {\n        key: \"point\" + idx,\n        id: \"point\" + idx,\n        cx: x.x,\n        cy: x.y,\n        r: r,\n        stroke: \"black\",\n        onClick: event => this.drawLine(event, idx),\n        strokeWidth: \".5\",\n        style: {\n          fill: \"orange\",\n          zIndex: '1',\n          transition: 'all .2s linear',\n          cursor: 'pointer'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      });\n    });\n    var ptsidx = this.state.points.map((pt, idx) => {\n      return React.createElement(\"text\", {\n        key: \"index\" + idx,\n        id: \"index\" + idx,\n        fontSize: \"14\",\n        fontFamily: \"Arial\",\n        x: pt.x - 4,\n        y: pt.y + 4,\n        onClick: event => this.drawLine(event, idx),\n        style: {\n          zIndex: '1',\n          fill: \"#fff\",\n          transition: 'all .2s linear'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, idx);\n    });\n    var lines = this.state.edges.map((q, idx) => {\n      return React.createElement(\"line\", {\n        key: \"edge\" + idx,\n        id: \"edge\" + idx,\n        x1: this.state.points[q.u].x,\n        y1: this.state.points[q.u].y,\n        x2: this.state.points[q.v].x,\n        y2: this.state.points[q.v].y,\n        style: {\n          stroke: 'red',\n          strokeWidth: '2',\n          zIndex: '-1',\n          transition: 'all .2s linear'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      });\n    });\n    var edgeWeights = this.state.edges.map((edge, idx) => {\n      return React.createElement(\"text\", {\n        key: \"weight\" + idx,\n        id: \"weight\" + idx,\n        fontSize: \"14\",\n        fontFamily: \"Arial\",\n        fill: \"#000\",\n        x: (this.state.points[edge.u].x + this.state.points[edge.v].x) / 2.0,\n        y: (this.state.points[edge.u].y + this.state.points[edge.v].y) / 2.0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, weights[idx]);\n    });\n    var dists = this.state.points.map((x, idx) => {\n      if (this.state.dist[idx] >= 100000) return React.createElement(\"text\", {\n        key: \"dist\" + idx,\n        id: \"dist\" + idx,\n        fontSize: \"14\",\n        fontFamily: \"Arial\",\n        fill: \"#000\",\n        x: x.x + r + 2,\n        y: x.y + r + 2,\n        value: \"sj\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }) //&infin;</text>\n      ;else return React.createElement(\"text\", {\n        key: \"dist\" + idx,\n        id: \"dist\" + idx,\n        fontSize: \"14\",\n        fontFamily: \"Arial\",\n        fill: \"#000\",\n        x: x.x + r + 2,\n        y: x.y + r + 2,\n        value: \"sj\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }) //{this.state.dist[idx]}</text>\n      ;\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      paintOrder: \"markers\",\n      ref: \"svg\",\n      width: window.innerWidth,\n      height: \"400\",\n      style: {\n        border: '1px dotted black',\n        backgroundColor: 'rgb(251, 250, 255)',\n        cursor: 'crosshair'\n      },\n      onClick: event => this.getMousePosition(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, pts, ptsidx, lines, edgeWeights, dists), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => this.dijkstra(0),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, \"Djikstra's Algorithm\"), React.createElement(\"button\", {\n      onClick: () => this.randomWeights(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, \"Randomize edge weights\"), React.createElement(\"button\", {\n      onClick: () => this.reset(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"Reset\"), React.createElement(\"button\", {\n      onClick: () => this.clear(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"Clear Canvas\"));\n  }\n\n}\nexport default ShortestPath;\n\nfunction getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}","map":{"version":3,"sources":["H:/React/Graph/graph-algorithm-visualizer/src/components/ShortestPath.js"],"names":["React","Component","v1","v2","adj","delay","weights","r","ShortestPath","constructor","props","state","points","edges","dist","randomWeights","console","log","length","i","getRandomInt","forceUpdate","addWeights","push","getMousePosition","event","x","clientX","y","clientY","refs","svg","style","marginTop","x1","y1","setState","prev","drawLine","e","idx","u","document","getElementById","fill","v","vertex","edgeNo","reset","stroke","clear","minDist","sptSet","min","INT_MAX","min_index","V","dijkstraAnimations","s","ar","j","vis","animations","color","dijkstra","len","q","render","pts","map","zIndex","transition","cursor","ptsidx","pt","lines","strokeWidth","edgeWeights","edge","dists","window","innerWidth","border","backgroundColor","max","Math","ceil","floor","random"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nlet v1=null,v2=null;\r\nlet adj=[]\r\nvar delay=1000\r\nlet weights=[]\r\nvar r=14\r\nexport class ShortestPath extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n             points:[],\r\n             edges:[],\r\n             dist:[]\r\n        }\r\n    }\r\n\r\n    randomWeights(){\r\n        console.log(this.state.edges.length)\r\n        for(let i=0;i<this.state.edges.length;i++)\r\n        weights[i]=getRandomInt(1,50);\r\n        this.forceUpdate();\r\n    }\r\n    addWeights()\r\n    {\r\n        weights.push(getRandomInt(1,50))\r\n        this.forceUpdate()\r\n    }\r\n        getMousePosition(event) { \r\n        let x = event.clientX;//this.refs.svg.style.marginLeft ;\r\n        let y = event.clientY-this.refs.svg.style.marginTop ;\r\n        for(let i=0;i<this.state.points.length;i++)\r\n        {\r\n            let x1=this.state.points[i].x;\r\n            let y1=this.state.points[i].y;\r\n            let dist=(x-x1)*(x-x1)+(y-y1)*(y-y1);\r\n            if(dist<=900)\r\n            {\r\n//                this.drawLine(event);\r\n                return;\r\n            }\r\n        }\r\n        this.setState((prev)=>{\r\n            dist:prev.dist.push(100000)\r\n        })\r\n        this.setState((prev)=>{\r\n            points:prev.points.push({x:x,y:y})\r\n        },function(){\r\n            adj.push([])\r\n        })\r\n        this.forceUpdate();\r\n    }\r\n\r\n    drawLine(e,idx){\r\n        let u=document.getElementById(`point${idx}`);\r\n        u.style.fill='red';\r\n        if(v1===null)\r\n        v1=idx;\r\n        else {\r\n            v2=idx;\r\n            u=document.getElementById(`point${v1}`);\r\n            u.style.fill='orange';\r\n            u=document.getElementById(`point${v2}`);\r\n            u.style.fill='orange';\r\n            for(let i=0;i<this.state.edges.length;i++)\r\n            {\r\n                if(this.state.edges[i].u===v1 && this.state.edges[i].v===v2)\r\n                {   v1=null\r\n                    v2=null\r\n                    return;\r\n                }\r\n                else if(this.state.edges[i].u===v2 && this.state.edges[i].v===v1)\r\n                {\r\n                    v1=null\r\n                    v2=null\r\n                    return;\r\n                }\r\n            }\r\n            if(v1===v2)\r\n            {\r\n                v1=null\r\n                v2=null\r\n                return\r\n            }\r\n            this.setState((prev)=>{\r\n                edges:prev.edges.push({\r\n                    u:v1,\r\n                    v:v2\r\n                })\r\n            },function(){\r\n                this.addWeights()\r\n                adj[v1].push({vertex:v2,edgeNo:this.state.edges.length-1})\r\n                adj[v2].push({vertex:v1,edgeNo:this.state.edges.length-1})\r\n                v1=null\r\n                v2=null\r\n            })\r\n            this.forceUpdate()\r\n        }\r\n    }\r\n\r\n    reset(){\r\n        for(let i=0;i<this.state.points.length;i++){\r\n            document.getElementById(`point${i}`).style.fill='orange'\r\n        }\r\n        for(let i=0;i<this.state.edges.length;i++)\r\n        {\r\n            document.getElementById(`edge${i}`).style.stroke='red'\r\n        }\r\n    }\r\n    clear(){\r\n        this.setState({\r\n            points:[],\r\n            edges:[]\r\n        },function(){\r\n            v1=null\r\n            v2=null\r\n            adj=[]\r\n        })\r\n        this.forceUpdate();\r\n    }\r\n\r\n    //DJIKSTRA'S SHORTEST PATH ALGORITHM\r\n    minDist(dist,sptSet) \r\n    {\r\n        // Initialize min value \r\n        let min = INT_MAX, min_index; \r\n        for (let v = 0; v < V; v++) \r\n            if (sptSet[v] == false && dist[v] <= min) \r\n                min = dist[v], min_index = v;    \r\n        return min_index; \r\n    }\r\n    dijkstraAnimations(s){\r\n        let ar=[]\r\n        for(let i=0;i<this,state.points.length;i++)\r\n        {\r\n            ar.push([])\r\n            for(let j=0;j<this.state.points.length;j++)\r\n            ar[i].push(0)\r\n        }\r\n        //forming adj matrix\r\n        for(let i=0;i<this.state.edges.length;i++)\r\n        {\r\n            ar[this.state.edges.u][this.state.edges.v]=weights[i]\r\n            ar[this.state.edges.v][this.state.edges.u]=weights[i]\r\n        }\r\n        let vis=[]\r\n        for(let i=0;i<this.state.points.length;i++)\r\n        vis[i]=false;\r\n        let animations=[]\r\n        let dist=this.state.dist\r\n        dist[s]=0\r\n        animations.push({\r\n            x:s,\r\n            y:0,\r\n            color:'setdist'\r\n        })\r\n        let u=this.minDist(dist,vis)\r\n        vis[u]=true\r\n        animations.push({\r\n            x:u,\r\n            y:-1,\r\n            color:'confirmdist'\r\n        })\r\n        for(let v=0;v<this.state.points.length;v++)\r\n        {\r\n            if(!vis[v] && ar[u][v] && dist[u]+ar[u][v]<dist[v])\r\n            {\r\n                dist[v]=dist[u]+ar[u][v]\r\n                animations.push({\r\n                    x:v,\r\n                    y:dist[v],\r\n                    color:'setdist'\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    dijkstra(s){\r\n        if(s>=this.state.points.length)\r\n        return;\r\n        const animations=this.dijkstraAnimations(s)\r\n        let len=animations.length\r\n        for(let i=0;i<len;i++)\r\n        {\r\n            if(animations[i].color==='setdist')\r\n            {\r\n                let q=document.getElementById(`point${animations[i].x}`)\r\n                q.style.fill='blue'\r\n                this.setState({\r\n                    dist\r\n                })\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        var pts=this.state.points.map((x,idx)=>{\r\n            return(\r\n            <circle key={\"point\"+idx} id={\"point\"+idx} cx={x.x} cy={x.y} r={r} stroke=\"black\" onClick={(event)=>this.drawLine(event,idx)} strokeWidth=\".5\" style={{fill:\"orange\",zIndex:'1',transition:'all .2s linear',cursor:'pointer'}} />\r\n            )\r\n        })\r\n        var ptsidx=this.state.points.map((pt,idx)=>{\r\n            return(\r\n                <text  key={\"index\"+idx} id={\"index\"+idx} fontSize=\"14\" fontFamily=\"Arial\" x={pt.x-4} y={pt.y+4} onClick={(event)=>this.drawLine(event,idx)} style={{zIndex:'1',fill:\"#fff\",transition:'all .2s linear'}}>{idx}</text>\r\n            )\r\n        })\r\n        var lines=this.state.edges.map((q,idx)=>{\r\n            return(\r\n                <line key={\"edge\"+idx} id={\"edge\"+idx} x1={this.state.points[q.u].x} y1={this.state.points[q.u].y} x2={this.state.points[q.v].x} y2={this.state.points[q.v].y} style={{stroke:'red',strokeWidth:'2',zIndex:'-1',transition:'all .2s linear'}} />\r\n            )\r\n        })\r\n        var edgeWeights=this.state.edges.map((edge,idx)=>{\r\n            return(\r\n                <text key={\"weight\"+idx} id={\"weight\"+idx} fontSize=\"14\" fontFamily=\"Arial\" fill=\"#000\" x={(this.state.points[edge.u].x+this.state.points[edge.v].x)/2.0} y={(this.state.points[edge.u].y+this.state.points[edge.v].y)/2.0} >{weights[idx]}</text>\r\n            )\r\n        })\r\n        var dists=this.state.points.map((x,idx)=>{\r\n            if(this.state.dist[idx]>=100000)\r\n            return(\r\n                <text key={\"dist\"+idx} id={\"dist\"+idx} fontSize='14' fontFamily='Arial' fill='#000' x={x.x+r+2} y={x.y+r+2} value='sj'/>//&infin;</text>\r\n            )\r\n            else\r\n            return(\r\n                <text key={\"dist\"+idx} id={\"dist\"+idx} fontSize='14' fontFamily='Arial' fill='#000' x={x.x+r+2} y={x.y+r+2} value='sj'/>//{this.state.dist[idx]}</text>\r\n            )\r\n        })\r\n        return (\r\n            <div>\r\n            <svg paintOrder='markers' ref='svg' width={window.innerWidth} height=\"400\" style={{border:'1px dotted black',backgroundColor:'rgb(251, 250, 255)',cursor:'crosshair'}} onClick={(event)=>this.getMousePosition(event)}>\r\n            {pts}\r\n            {ptsidx}\r\n            {lines}\r\n            {edgeWeights}\r\n            {dists}\r\n            </svg>\r\n            <br/>\r\n            <button onClick={()=>this.dijkstra(0)}>Djikstra's Algorithm</button>\r\n            <button onClick={()=>this.randomWeights()}>Randomize edge weights</button>\r\n            <button onClick={()=>this.reset()}>Reset</button>\r\n            <button onClick={()=>this.clear()}>Clear Canvas</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ShortestPath\r\nfunction getRandomInt(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}"]},"metadata":{},"sourceType":"module"}