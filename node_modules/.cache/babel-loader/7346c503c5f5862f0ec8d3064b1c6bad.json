{"ast":null,"code":"var _jsxFileName = \"H:\\\\React\\\\Graph\\\\graph-algorithm-visualizer\\\\src\\\\components\\\\canvas.js\";\nimport React, { Component } from 'react';\nlet v1 = null,\n    v2 = null;\nexport class Canvas extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      points: [],\n      edges: []\n    };\n  }\n\n  getMousePosition(event) {\n    let x = event.clientX; //this.refs.svg.style.marginLeft ;\n\n    let y = event.clientY - this.refs.svg.style.marginTop;\n\n    for (let i = 0; i < this.state.points.length; i++) {\n      let x1 = this.state.points[i].x;\n      let y1 = this.state.points[i].y;\n      let dist = (x - x1) * (x - x1) + (y - y1) * (y - y1);\n\n      if (dist <= 500) {\n        //                this.drawLine(event);\n        return;\n      }\n    }\n\n    this.setState(prev => {\n      points: prev.points.push({\n        x: x,\n        y: y\n      });\n    });\n    this.forceUpdate();\n  }\n\n  drawLine(e, idx) {\n    let u = document.getElementById(`point${idx}`);\n    u.style.fill = 'red';\n    if (v1 === null) v1 = idx;else {\n      v2 = idx;\n      u = document.getElementById(`point${v1}`);\n      u.style.fill = 'green';\n      u = document.getElementById(`point${v2}`);\n      u.style.fill = 'green';\n      this.setState(prev => {\n        edges: prev.edges.push({\n          u: v1,\n          v: idx\n        }, function () {\n          v1 = null;\n          v2 = null;\n        });\n      });\n      this.forceUpdate();\n      console.log(this.state.edges);\n    }\n  }\n\n  render() {\n    var pts = this.state.points.map((x, idx) => {\n      return React.createElement(\"circle\", {\n        key: \"point\" + idx,\n        id: \"point\" + idx,\n        cx: x.x,\n        cy: x.y,\n        r: \"10\",\n        stroke: \"black\",\n        onClick: event => this.drawLine(event, idx),\n        strokeWidth: \"1\",\n        style: {\n          fill: \"green\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      });\n    });\n    var ptsidx = this.state.points.map((pt, idx) => {\n      return React.createElement(\"text\", {\n        fill: \"#fff\",\n        key: \"index\" + idx,\n        id: \"index\" + idx,\n        fontSize: \"10\",\n        fontFamily: \"Arial\",\n        x: pt.x - 4,\n        y: pt.y + 4,\n        onClick: event => this.drawLine(event, idx),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, idx);\n    });\n    var lines = this.state.edges.map(q => {\n      console.log(\"sd \" + q.u + \" \" + this.state.edges.length);\n      return React.createElement(\"line\", {\n        x1: this.state.points[q.u].x,\n        y1: this.state.points[q.u].y,\n        x2: this.state.points[q.v].x,\n        y2: this.state.points[q.v].y,\n        style: {\n          stroke: 'rgb(255,0,0)',\n          strokeWidth: '2'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      });\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      ref: \"svg\",\n      className: \"svgStyles\",\n      width: window.innerWidth,\n      height: \"400\",\n      style: {\n        backgroundColor: 'rgb(215, 201, 248)'\n      },\n      onClick: event => this.getMousePosition(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, pts, ptsidx, lines));\n  }\n\n}\nexport default Canvas;","map":{"version":3,"sources":["H:/React/Graph/graph-algorithm-visualizer/src/components/canvas.js"],"names":["React","Component","v1","v2","Canvas","constructor","props","state","points","edges","getMousePosition","event","x","clientX","y","clientY","refs","svg","style","marginTop","i","length","x1","y1","dist","setState","prev","push","forceUpdate","drawLine","e","idx","u","document","getElementById","fill","v","console","log","render","pts","map","ptsidx","pt","lines","q","stroke","strokeWidth","window","innerWidth","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nlet v1=null,v2=null;\r\nexport class Canvas extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n             points:[],\r\n             edges:[]\r\n        }\r\n    }\r\n    \r\n    getMousePosition(event) { \r\n        let x = event.clientX;//this.refs.svg.style.marginLeft ;\r\n        let y = event.clientY-this.refs.svg.style.marginTop ;\r\n        for(let i=0;i<this.state.points.length;i++)\r\n        {\r\n            let x1=this.state.points[i].x;\r\n            let y1=this.state.points[i].y;\r\n            let dist=(x-x1)*(x-x1)+(y-y1)*(y-y1);\r\n            if(dist<=500)\r\n            {\r\n//                this.drawLine(event);\r\n                return;\r\n            }\r\n        }\r\n        this.setState((prev)=>{\r\n            points:prev.points.push({\r\n                x:x,\r\n                y:y\r\n            })\r\n        })\r\n        this.forceUpdate();\r\n    }\r\n\r\n    drawLine(e,idx){\r\n        let u=document.getElementById(`point${idx}`);\r\n        u.style.fill='red';\r\n        if(v1===null)\r\n        v1=idx;\r\n        else {\r\n            v2=idx;\r\n            u=document.getElementById(`point${v1}`);\r\n            u.style.fill='green';\r\n            u=document.getElementById(`point${v2}`);\r\n            u.style.fill='green';\r\n            this.setState((prev)=>{\r\n                edges:prev.edges.push({\r\n                    u:v1,\r\n                    v:idx\r\n                },function(){\r\n                    v1=null\r\n                    v2=null\r\n                })\r\n            })\r\n            this.forceUpdate()\r\n            console.log(this.state.edges)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var pts=this.state.points.map((x,idx)=>{\r\n            return(\r\n            <circle key={\"point\"+idx} id={\"point\"+idx} cx={x.x} cy={x.y} r=\"10\" stroke=\"black\" onClick={(event)=>this.drawLine(event,idx)} strokeWidth=\"1\" style={{fill:\"green\"}} />\r\n            )\r\n        })\r\n        var ptsidx=this.state.points.map((pt,idx)=>{\r\n            return(\r\n                <text fill=\"#fff\" key={\"index\"+idx} id={\"index\"+idx} fontSize=\"10\" fontFamily=\"Arial\" x={pt.x-4} y={pt.y+4} onClick={(event)=>this.drawLine(event,idx)}>{idx}</text>\r\n            )\r\n        })\r\n        var lines=this.state.edges.map((q)=>{\r\n            console.log(\"sd \"+q.u+ \" \"+this.state.edges.length);\r\n            return(\r\n                <line x1={this.state.points[q.u].x} y1={this.state.points[q.u].y} x2={this.state.points[q.v].x} y2={this.state.points[q.v].y} style={{stroke:'rgb(255,0,0)',strokeWidth:'2'}} />\r\n            )\r\n        })\r\n        return (\r\n            <div>\r\n            <svg ref='svg' className=\"svgStyles\" width={window.innerWidth} height=\"400\" style={{backgroundColor: 'rgb(215, 201, 248)'}} onClick={(event)=>this.getMousePosition(event)}>\r\n            {pts}\r\n            {ptsidx}\r\n            {lines}\r\n            </svg>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Canvas\r\n"]},"metadata":{},"sourceType":"module"}